<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.silence.mapper.LoginTicketMapper">

    <update id="save" keyProperty="id">
        INSERT INTO login_ticket(user_id, ticket, status, expired)
        VALUES(#{userId}, #{ticket}, #{status}, #{expired});
    </update>

    <select id="getByTicket" resultType="LoginTicketDO">
        SELECT id, user_id, ticket, status, expired
          FROM login_ticket
         WHERE ticket = #{ticket};
    </select>

    <update id="updateStatusByTicket">
        UPDATE login_ticket
           SET status = #{status}
         WHERE ticket = #{ticket};
    </update>
</mapper>